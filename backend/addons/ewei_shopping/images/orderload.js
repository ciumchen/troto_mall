!function(t,r,s){function i(t){this.list=t.list,this.load=t.load,this.page=1,this.scrTop=0,this.url=t.url,this.strHTMLFun=t.strHTMLFun,this.urlArr={},this.cacheArr=[],this.init()}i.prototype.getLocationUrl=function(){if(location.search.length>0)for(var t=location.search,r=t.substring(t.indexOf("?")+1,t.length).split("&"),s=0;s<r.length;s++){var i=r[s];this.urlArr[i.substring(0,i.indexOf("="))]=i.substring(i.indexOf("=")+1,i.length)}},i.prototype.scrollLoad=function(){var i,o=this;$(t).on("scroll",function(){o.hei=parseInt($(r).height()),o.scrTop=parseInt($(this).scrollTop()),o.conHei=parseInt($(this).height()),o.hei-(o.scrTop+o.conHei)<20&&(o.load.show(),o.page++,i=o.urlArr.level!=s?o.urlArr.level:o.urlArr.status==s||null==o.urlArr.status?0:o.urlArr.status,o.getAjaxPage(i,o.page,function(t){if("string"!=typeof t){o.load.hide();for(var r="",s=0,i=t.length;i>s;s++){var n=t[s];r+=o.strHTMLFun(n)}o.list.append(r)}else o.load.html(t).show().css("margin-bottom","0")}))})},i.prototype.getAjaxPage=function(r,s,i){var o=this;$.ajax({type:"post",url:o.url,data:{status:r,page:s},dataType:"json",success:function(r){0!=r.length?i&&i(r):0==r.length&&($(t).unbind("scroll"),i&&i(""))}})},i.prototype.init=function(){this.scrollLoad(),this.getLocationUrl()},t.ListLazyLoad=i}(window,document);