!function(e,i,t){function s(e){this.banner=e.banner,this.slide=e.slide,this.nav=e.nav,this.slideLi=this.slide.find("li"),this.slideLen=this.slideLi.length,this.navFlag=e.navFlag!=t?e.navFlag:!0,this.speed=e.speed,this.moveSpeed=e.moveSpeed,this.on=e.on,this.moveIndex=0,this.slideIndex=1,this.touchBool=!1,this.moveDis=0,this.timer,this.init()}var n="ontouchstart"in e?!0:!1,d=n?"touchstart":"mousedown",o=n?"touchmove":"mousemove",h=n?"touchend":"mouseup";s.prototype={constructor:s,slideMove:function(e,i){this.slide.css({"-webkit-transform":"translate3d("+e+",0,0)","-webkit-transform":"translate3d("+e+",0,0)","-webkit-transition-duration":i+"ms","transition-duration":i+"ms","-webkit-backface-visibility":"hidden","backface-visibility":"hidden","-webkit-perspective":"1000",perspective:"1000"})},touchSlider:function(){var i=this,t=0,s=0,l=0;this.banner.addEventListener(d,function(s){var s=s||e.event;t=n?s.touches[0].pageX:s.pageX,i.touchBool=!0,clearInterval(i.timer)}),this.banner.addEventListener(o,function(d){var d=d||e.event;d.preventDefault(),i.touchBool&&(s=n?d.touches[0].pageX:d.pageX,l=s-t+i.moveDis,i.slideMove(l+"px",0))}),this.banner.addEventListener(h,function(e){Math.abs(s-t)>60&&(s>t?(i.slideIndex<=0?i.slideIndex=i.slideLen-1:i.slideIndex--,i.moveIndex--,1==i.slideIndex?i.slideLi.eq(i.slideLen-1).css({left:100*(i.moveIndex-1)+"%"}):i.slideLi.eq(i.slideIndex-2).css({left:100*(i.moveIndex-1)+"%"})):i.nextMove(),i.setMoveDis(),i.setNavLocal()),i.slideMove(100*-i.moveIndex+"%",i.moveSpeed),i.touchBool=!1,i.setIntervalTask()})},setIntervalTask:function(){var e=this;this.timer=setInterval(function(){e.nextMove(),e.slideMove(100*-e.moveIndex+"%",e.moveSpeed),e.setMoveDis(),e.setNavLocal()},this.speed)},nextMove:function(){this.slideIndex>=this.slideLen-1?this.slideIndex=0:this.slideIndex++,this.moveIndex++,this.slideLi.eq(this.slideIndex).css({left:100*(this.moveIndex+1)+"%"})},setMoveDis:function(){this.moveDis=-this.moveIndex*this.slideWidth},setSliderLocal:function(){for(var e="",i=0;i<this.slideLen;i++)e+="<li></li>",i<this.slideLen-1?this.slideLi.eq(i).css({left:100*i+"%"}):this.slideLi.eq(i).css({left:"-100%"});this.navFlag||this.nav.hide(),this.nav.html(e).find("li").eq(0).addClass(this.on)},setNavLocal:function(){this.nav.find("li").eq(this.slideIndex-1).addClass(this.on).siblings().removeClass(this.on)},setSliderHeight:function(){if(this.slideLen>0){var e=this.slideLi.eq(0).find("img").height();this.slide.css({height:e+"px"})}},getWinWidth:function(){var i=$(e).width();this.slideWidth=i>640?640:i,this.setMoveDis()},init:function(){var i=this;this.getWinWidth(),this.setSliderLocal(),this.setSliderHeight(),this.touchSlider(),this.setIntervalTask(),$(e).on("resize",function(){i.setSliderHeight(),i.getWinWidth()})}},e.Slider=s}(window,document);